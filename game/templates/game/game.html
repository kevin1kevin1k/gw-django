{% extends 'game/base.html' %}

{% block title %}PLAY! | {{ block.super }}{% endblock title %}

{% block content %}
  {% if user.is_authenticated %}
  {% csrf_token %}
    <p>{{ answer }}</p>
    <hr>
  {% endif %}

  <div class="row">
    <div class="col-lg-6">
      {% if success %}
        <fieldset disabled>
      {% endif %}
      <form action="{% url 'ask' %}" method="post">
        {% csrf_token %}
        <input type="hidden" id="answer" name="answer" value="{{ answer }}">
        <input type="hidden" id="prev" name="prev" value="{{ prev }}">
        <div class="input-group">
          <input type="text" class="form-control" placeholder="問個問題..." id="question" name="question" required="true" autofocus="true">
          <span class="input-group-btn">
            <input type="submit" value="送出 (Enter)" class="btn btn-success">
          </span>
        </div>
      </form>
      {% if success %}
        </fieldset>
      {% endif %}
      
      {% if success %}
        <br>
        <div class="alert alert-success" role="alert">
          <p>恭喜答對！</p>
        </div>
      {% endif %}
    </div>
    
    <div class="col-lg-6">
      <table class="table table-hover">
        <thead>
          <tr>
            <th class="col-lg-5">問題</th>
            <th class="col-lg-1">結果</th>
          </tr>
        </thead>
        <tbody>
          {% for i in prev_list %}
            <tr>
              <td class="col-lg-5">{{ i.0 }}</td>
              <td class="col-lg-1">{{ i.1 }}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>        
  </div>

{% endblock content %}
